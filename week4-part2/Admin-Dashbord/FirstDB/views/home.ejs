<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  <link rel="stylesheet" href="/css/home.css">
  <link rel="stylesheet" href="/css/dashbord.css">
  <link rel="stylesheet" href="/css/magecom.css">
</head>

<body>
  <div class="sidebar">
    <h2>UTILINET</h2>
    <!-- <a class="active" href="#">Admin Dashboard</a>
    <a href="#">Add New Members</a>
    <a href="#">Contributions</a>
    <a href="#">Manage Categories</a>
    <a href="#">Communities</a> -->

    <a id="dashboardBtn" class="active">Admin Dashboard</a>
    <a id="addMemberBtn">Add New Members</a>
    <a id="contributionsBtn">Contributions</a>
    <a id="categoriesBtn">Manage Categories</a>
    <a id="communitiesBtn">Communities</a>
    <a id="AllMembers">AllMembers</a>

  </div>
  <div class="main-content" id="mainContent">
    <h2>Admin Dashboard</h2>

    <label for="year">Year:</label>
    <select id="year">
      <option value="2025-2026">2025-2026</option>
    </select>

    <input type="text" placeholder="Search (Name/Mobile/Member)" />
    <button class="btn">Search</button>

    <h3>Member Summary (Year: 2025-2026)</h3>

    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Membership No</th>
          <th>Mobile</th>
          <th>Total Paid (₹)</th>
          <th>Total Due (₹)</th>
          <th>Pending Items</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Admin</td>
          <td>ADMIN001</td>
          <td>9999999999</td>
          <td>14,700.00</td>
          <td>3,500.00</td>
          <td>None</td>
          <td>
            <button class="btn">View/Edit Dues</button>
            <button class="btn">Send Email</button>
          </td>
        </tr>
        <tr>
          <td>Ajoy K Joseph</td>
          <td>78</td>
          <td>9900311153</td>
          <td>3,900.00</td>
          <td>600.00</td>
          <td>None</td>
          <td>
            <button class="btn">View/Edit Dues</button>
            <button class="btn">Send Email</button>
          </td>
        </tr>
        <tr>
          <td>Alice Johnson</td>
          <td>MEM003</td>
          <td>9000000003</td>
          <td>0.00</td>
          <td>0.00</td>
          <td>None</td>
          <td>
            <button class="btn">View/Edit Dues</button>
            <button class="btn">Send Email</button>
          </td>
        </tr>
        <tr>
          <td>Anish Cheriyan</td>
          <td>188</td>
          <td>9886086173</td>
          <td>32,200.00</td>
          <td>28,400.00</td>
          <td>Monthly Subscription (April)</td>
          <td>
            <button class="btn">View/Edit Dues</button>
            <button class="btn">Send Email</button>
          </td>
        </tr>
      </tbody>
    </table>


  </div>

  <div id="allUserContainer" style="display: none;"></div>

</body>
<script>
  // Map buttons to backend routes
  const routes = {
    dashboardBtn: "/dashbord" || "/dashbord",
    addMemberBtn: "/index",
    contributionsBtn: "/contributions",
    categoriesBtn: "/magecommunities",
    communitiesBtn: "/communities",
    AllMembers: "/alluser"
  };

  // Add click listeners for all nav buttons
  Object.keys(routes).forEach(buttonId => {
    document.getElementById(buttonId).addEventListener("click", function () {
      // Remove "active" class from all links
      document.querySelectorAll(".sidebar a").forEach(link => link.classList.remove("active"));
      // Add "active" to the clicked one
      this.classList.add("active");

      // Load content dynamically using fetch()
      fetch(routes[buttonId])
        .then(res => res.text())
        .then(html => {
          document.getElementById("mainContent").innerHTML = html;
          console.log(html);

        })
        .catch(err => {
          document.getElementById("mainContent").innerHTML = "<p style='color:red;'>Error loading content.</p>";
          console.error("Error fetching page:", err);
        });
    });
  });
</script>
</html>